<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>GuessGame</title>
		<link rel="stylesheet" href="./index.css" />
	</head>
	<body>
		<div class="row1">
			<div class="boxleft">Play Again</div>
			<div class="boxright"><h1>(Between 1 and 100)</h1></div>
		</div>
		<div class="row2">
			<h1>Guess My Number!</h1>
		</div>
		<div class="row3">
			<div class="boxcenter"><span>?</span></div>
		</div>
		<div class="row4">
			<div class="boxinput">
				<input
					type="number"
					name="boxinput"
					id="boxinput"
					minimum="1"
					maximum="10"
				/>
			</div>
			<div class="guessText">Start guessing...</div>
		</div>
		<div class="row5">
			<div class="boxcheck">Check!</div>
			<div class="chancesText"></div>
		</div>

		<!-- 		
		<script src="./index.js"></script> -->
		<script>
			document.getElementsByTagName('body')[0].style.backgroundColor =
				'rgb(40, 20, 20)';

			document.getElementsByTagName('body')[0].style.color = 'white';

			var totalChances = 100,
				highScores = 0;

			let userInput = document.getElementById('boxinput');

			let randomValue = Math.floor(Math.random() * 100 + 1);

			function chances() {
				document.getElementsByClassName(
					'chancesText'
				)[0].innerHTML = ` <h3> Chances: ${totalChances} </h3><h3>Highscore: ${highScores}</h3>`;
			}
			chances();

			document.querySelector('.boxleft').addEventListener('click', () => {
				totalChances = 100;
				highScores = 0;
				userInput.value = 0;
				randomValue = Math.floor(Math.random() * 100 + 1);
				document.querySelector('body').style.backgroundColor =
					'rgb(40, 20, 20)';
				document.getElementsByClassName('boxcheck')[0].style.display = 'block';
				document.querySelector('span').innerHTML = `?`;
				document.querySelector('span').style.left = '40%';
				chances();
			});

			document
				.getElementsByClassName('boxcheck')[0]
				.addEventListener('click', () => {
					if (totalChances > 0) {
						// console.log(randomValue);
						if (userInput.value > randomValue) {
							document.getElementsByClassName('guessText')[0].innerHTML =
								'Your Guess Is High';
							totalChances--;
							chances();
						} else if (userInput.value < randomValue) {
							document.getElementsByClassName('guessText')[0].innerHTML =
								'Your Guess Is Low';
							totalChances--;
							chances();
						} else {
							document.getElementsByClassName('guessText')[0].innerHTML =
								'Hurray You Won';
							highScores = totalChances;
							chances();
							success();
						}
					} else {
						document.getElementsByClassName('guessText')[0].innerHTML =
							'Game Over your score is 0';
						chances();
					}
				});

			function success() {
				document.querySelector('body').style.backgroundColor = 'green';
				document.getElementsByClassName('boxcheck')[0].style.visibility =
					'hidden';
				document.querySelector('span').innerHTML = `${userInput.value}`;
				if (Math.floor(userInput.value / 10) !== 0)
					document.querySelector('span').style.left = '20%';
			}
		</script>
	</body>
</html>
